"use strict";(self.webpackChunkstorybooknew=self.webpackChunkstorybooknew||[]).push([[335],{"./stories/Circle.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,RandomValue:()=>RandomValue,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Circle_stories});var react=__webpack_require__("./node_modules/react/index.js"),src=__webpack_require__("./node_modules/d3/src/index.js");const commonConfig={viewBox:null,makeid:length=>{let result="";const characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<length;i++)result+=characters.charAt(Math.floor(52*Math.random()));return result},fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif"};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const defaultConfig={textSize:25,textColor:"#d9e8f6",circleColor:"#178bca",radius:50,textVertPosition:.5,displayPercent:!1,textChangeTime:1e3},Circle=props=>{const{textSize,textColor,circleColor,radius,viewBox,value,displayPercent}=props,circleRef=(0,react.useRef)(null);const config=Object.assign({},commonConfig,defaultConfig,props),percentText=config.displayPercent?"%":"",format=src.WUZ(".0f");config.id=config.id||config.makeid(5);const createSVG=config=>{const value=config.value,textFinalValue=parseFloat(value).toFixed(2),svg=src.Ys(`#${config.id}`).attr("cursor","default"),textRiseScaleY=src.BYU().range([2*config.radius,.7*config.textSize]).domain([0,1]);svg.append("g").attr("class","circle").attr("transform",`translate(${config.radius}, ${config.radius})`).append("circle").attr("r",config.radius).attr("fill",config.circleColor);const text=svg.append("text").classed("text",!0).attr("text-anchor","middle").style("fill",config.textColor).style("font-size",config.textSize).text(format(0)+percentText).attr("transform",`translate(${config.radius}, ${textRiseScaleY(config.textVertPosition)}) `);return text.transition().duration(config.textChangeTime).tween("text",(function(){const i=src.sXR(this.textContent,textFinalValue);return t=>this.textContent=format(i(t))+percentText})),new function CircleUpdater(){this.update=function(value){text.transition().duration(config.textChangeTime).tween("text",(function(){const i=src.sXR(this.textContent,parseFloat(value).toFixed(2));return t=>this.textContent=format(i(t))+percentText}))}}};return(0,react.useLayoutEffect)((()=>{null===circleRef.current?circleRef.current=createSVG(config):circleRef.current.update(config.value||function NewValue(){return Math.random()>.5?Math.round(100*Math.random()):(100*Math.random()).toFixed(1)}())}),[config]),(0,jsx_runtime.jsx)("svg",{id:config.id,width:2*config.radius,height:2*config.radius,viewBox:config.viewBox})};Circle.displayName="Circle",Circle.__docgenInfo={description:"",methods:[],displayName:"Circle"};const stories_Circle=Circle,Circle_stories={title:"Circle",component:stories_Circle,argTypes:{textSize:{control:"number",defaultValue:25},textColor:{control:"color",defaultValue:"#d9e8f6"},circleColor:{control:"color",defaultValue:"#178bca"},radius:{control:"number",defaultValue:50},value:{control:"number",defaultValue:50},displayPercent:{control:"boolean",defaultValue:!1}},parameters:{figma:{url:"https://www.figma.com/file/OQnGbJTRm0ArPwN568XXib/testStorybook?type=design&node-id=7%3A2&mode=design&t=hOSUtRTAM2ppnO7w-1"}}},Template=args=>(0,jsx_runtime.jsx)(stories_Circle,{...args});Template.displayName="Template";const Default=Template.bind({});Default.args={};const RandomValue=Template.bind({});RandomValue.args={value:100*Math.random()},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <Circle {...args} />",...Default.parameters?.docs?.source}}},RandomValue.parameters={...RandomValue.parameters,docs:{...RandomValue.parameters?.docs,source:{originalSource:"args => <Circle {...args} />",...RandomValue.parameters?.docs?.source}}};const __namedExportsOrder=["Default","RandomValue"]}}]);